# 22251

## Python

```python
import sys
input = sys.stdin.readline

def get_bit_inversion():
    SEVEN_SEGMENT = [
        0b1111110,
        0b0110000,
        0b1101101,
        0b1111001,
        0b0110011,
        0b1011011,
        0b1011111,
        0b1110000,
        0b1111111,
        0b1111011
    ]

    bit_inversion = [[0] * 10 for _ in range(10)]
    for i in range(10):
        for j in range(10):
            bit_inversion[i][j] = bin(SEVEN_SEGMENT[i] ^ SEVEN_SEGMENT[j]).count('1')
    
    return bit_inversion

def dfs(depth, now, cnt):
    global ans
    
    if depth == 0:
        if now != X and 0 < now <= N:
            ans += 1
        return
    
    digit = depth - 1
    cur = now // (10 ** digit) % 10
    for upd in range(10):
        n_cnt = cnt - BIT_INVERSION[cur][upd]
        if n_cnt < 0:
            continue
        nxt = now + (upd - cur) * (10 ** digit)
        dfs(depth-1, nxt, n_cnt)

N, K, P, X = map(int, input().split())
ans = 0
BIT_INVERSION = get_bit_inversion()
dfs(K, X, P)

print(ans)

```
